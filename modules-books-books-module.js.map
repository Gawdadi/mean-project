{"version":3,"sources":["./src/app/modules/books/books.routing.ts","./src/app/modules/books/books-list/books-list.component.html","./src/app/modules/books/books-list/books-list.component.ts","./src/app/modules/books/books.module.ts","./src/app/modules/books/book-info/book-info.component.ts","./src/app/modules/books/book-info/book-info.component.html"],"names":[],"mappings":"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","file":"modules-books-books-module.js","sourcesContent":["import { RouterModule, Routes } from '@angular/router';\nimport { BookInfoComponent } from './book-info/book-info.component';\nimport { BooksListComponent } from './books-list/books-list.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BooksListComponent,\n  },\n  {\n    path: ':bookId',\n    component: BookInfoComponent,\n  },\n];\n\nexport const BooksRoutes = RouterModule.forChild(routes);\n","<div class=\"books-list\">\n  <div class=\"card\">\n    <div class=\"card-header\">List of books</div>\n    <div class=\"card-body\">\n      <table class=\"table table-borderless table-hover\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Author</th>\n            <th scope=\"col\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let item of books; let i = index\">\n            <th scope=\"row\">{{ i + 1 }}</th>\n            <td>{{ item.name }}</td>\n            <td>{{ authorMap[item.author_id].name }}</td>\n            <td>\n              <button class=\"btn btn-sm btn-warning\" (click)=\"onEdit(item._id)\">\n                Edit\n              </button>\n            </td>\n            <td><button class=\"btn btn-sm btn-danger\">Delete</button></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n<app-float-button (onClick)=\"create()\"></app-float-button>\n","import { Component, OnInit } from '@angular/core';\nimport { Author, Book } from 'src/app/models';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BookService } from 'src/app/services';\n\n@Component({\n  selector: 'app-books-list',\n  templateUrl: './books-list.component.html',\n  styleUrls: ['./books-list.component.scss'],\n})\nexport class BooksListComponent implements OnInit {\n  books: Book[] = [];\n  authorMap: any = {};\n  constructor(\n    private booksService: BookService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.getWithAuthors();\n  }\n\n  create() {\n    this.router.navigate(['add'], { relativeTo: this.route });\n  }\n\n  getWithAuthors() {\n    this.booksService.getWithAuthors().subscribe((res: any) => {\n      this.books = res.content;\n      this.authorMap = res.authors;\n    });\n  }\n\n  onEdit(authorId: string) {\n    this.router.navigate([authorId], { relativeTo: this.route });\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { FloatButtonModule } from 'src/app/common/float-button/float-button.module';\nimport { LoaderModule } from 'src/app/common/loader/loader.module';\nimport { BookInfoComponent } from './book-info/book-info.component';\nimport { BooksListComponent } from './books-list/books-list.component';\nimport { BooksRoutes } from './books.routing';\n\nconst COMPONENTS = [BooksListComponent, BookInfoComponent];\n@NgModule({\n  declarations: [...COMPONENTS],\n  imports: [\n    BooksRoutes,\n    FormsModule,\n    CommonModule,\n    LoaderModule,\n    FloatButtonModule,\n  ],\n  providers: [],\n})\nexport class BooksModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Author, Book } from 'src/app/models';\nimport { AuthorService, BookService } from 'src/app/services';\n\n@Component({\n  selector: 'app-book-info',\n  templateUrl: './book-info.component.html',\n  styleUrls: ['./book-info.component.scss'],\n})\nexport class BookInfoComponent implements OnInit {\n  book: Book = new Book();\n  authors: Author[] = [];\n  bookId: string;\n  isLoading: boolean = false;\n  constructor(\n    private authorsService: AuthorService,\n    private bookService: BookService,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.getParams();\n    this.getAuthors();\n  }\n\n  getParams() {\n    this.route.paramMap.subscribe((params) => {\n      this.bookId = params.get('bookId') || null;\n      if (this.bookId !== 'add') {\n        this.getById();\n      }\n    });\n  }\n\n  onSubmit() {\n    this.isLoading = true;\n    if (this.bookId === 'add') this.post();\n    else this.put();\n  }\n\n  getAuthors() {\n    this.authorsService.getAll().subscribe((res) => {\n      this.authors = res.content;\n    });\n  }\n\n  post() {\n    this.bookService.post(this.book).subscribe(\n      (res) => {\n        this.book = new Book();\n        this.isLoading = false;\n      },\n      (error) => {\n        this.isLoading = false;\n      }\n    );\n  }\n\n  put() {\n    this.bookService.put(this.book).subscribe(\n      (res) => {\n        this.book = res;\n        this.isLoading = false;\n      },\n      (error) => {\n        this.isLoading = false;\n      }\n    );\n  }\n\n  getById() {\n    this.bookService.getById(this.bookId).subscribe(\n      (res) => {\n        this.book = res;\n      },\n      (error) => {}\n    );\n  }\n}\n","<div class=\"book-info center\">\n  <div class=\"card w-50\">\n    <div class=\"card-header\">Book Information</div>\n    <div class=\"card-body\">\n      <form #form=\"ngForm\">\n        <div class=\"form-group\">\n          <label>Name</label>\n          <input\n            name=\"name\"\n            required\n            class=\"form-control\"\n            placeholder=\"Enter name\"\n            [(ngModel)]=\"book.name\"\n          />\n        </div>\n        <div class=\"form-group\">\n          <label>Price</label>\n          <input\n            type=\"number\"\n            name=\"price\"\n            required\n            class=\"form-control\"\n            placeholder=\"Enter price\"\n            [(ngModel)]=\"book.price\"\n          />\n        </div>\n        <div class=\"form-group\">\n          <label>Select Author</label>\n          <select\n            class=\"form-control\"\n            required\n            name=\"author_id\"\n            [(ngModel)]=\"book.author_id\"\n          >\n            <option selected disabled [value]=\"undefined\">---Author---</option>\n            <option *ngFor=\"let author of authors\" [value]=\"author._id\">\n              {{ author.name }}\n            </option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label>Description</label>\n          <input\n            name=\"description\"\n            class=\"form-control\"\n            placeholder=\"Enter decription(if any)\"\n            [(ngModel)]=\"book.description\"\n          />\n        </div>\n      </form>\n    </div>\n    <div class=\"card-footer\">\n      <button\n        (click)=\"onSubmit()\"\n        class=\"btn btn-primary btn-sm\"\n        [disabled]=\"form.invalid\"\n      >\n        Submit\n      </button>\n    </div>\n  </div>\n</div>\n\n<app-loader *ngIf=\"isLoading\"></app-loader>\n"],"sourceRoot":"webpack:///"}